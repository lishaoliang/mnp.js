<!doctype html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>HTTP-FLV</title>
  <body>

    <div>
      <canvas id="canvas" oncontextmenu="event.preventDefault()" tabindex=-1 width="960" height="540"></canvas>
    </div>

    <script type="text/javascript" src="mnp-1.0.0.min.js"></script>
    <script type='text/javascript'>
      var Module = mnpjs

      mnpjs.postRun = function() {
        mnpjs.hello(1000)

        // {"protocol"="HTTP-FLV","url"="http://127.0.0.1:8080/stream/httpflv/chnn0/sidx1"}
        var param = JSON.stringify({
            protocol : 'HTTP-FLV',
            url : 'http://' + window.location.hostname + ':' + window.location.port + '/stream/httpflv/chnn0/sidx1'
          });
         
        mnpjs.open('123456', param, function(result){
            console.log('open ', result, param);
        });
      }

    </script>

  </body>
</html>
